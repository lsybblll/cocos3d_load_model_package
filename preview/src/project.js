System.register("chunks:///load.service.js",["./_virtual/_rollupPluginBabelHelpers.js","cc"],(function(e,t){var s,r,a,n,o,i,l,c,u,d;return{setters:[function(e){s=e.createClass,r=e.classCallCheck,a=e.objectSpread2},function(e){n=e.cclegacy,o=e.AssetLibrary,i=e.loader}],execute:function(){n._RF.push({},"cfe35aA6i1GFZmPWNrsY0Dc","load.service",void 0),l={},c=o.getLibUrlNoExt,o.getLibUrlNoExt=function(e,t){var s=c.call(o,e,t),r=l[e];return r&&(s=r+s),s},u=[{name:"",path:""},{name:"model1",path:"../model1/"},{name:"model2",path:"../model2/"}],d=function(){function e(){r(this,e)}return s(e,null,[{key:"getAbsoluteUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.location.href;for(t=(t=t.split("?")[0]).replace(/\/[^/]*$/,"");e.startsWith("../");)e=e.replace(/^..\//,""),t=t.replace(/\/[^/]*$/,"");return"".concat(t,"/").concat(e)}},{key:"loadSettings",value:function(e,t,s,r){var n=s+"src/settings.js";i.release(n),i.load(n,(function(n){if(n)return r(n);var o=window._CCSettings;if(window._CCSettings=void 0,!o)return r("setting load error");var i=o.uuids,c=o.rawAssets,u=o.assetTypes,d=o.rawAssets={};for(var v in c){var f=c[v],p=d[v]={};for(var A in f){var g=f[A],h=g[1];"number"==typeof h&&(g[1]=u[h]),p[i[A]||A]=g,t&&(l[i[A]||A]=s)}e.rawAssets[v]=a({},e.rawAssets[v],{},p)}var m=o.packedAssets;for(var w in m){for(var b=m[w],k=0;k<b.length;++k)"number"==typeof b[k]&&(b[k]=i[b[k]]);t&&(l[w]=s)}e.packedAssets=a({},e.packedAssets,{},m),r()}))}},{key:"loadCustomAsset",value:function(e){var t=this,s={rawAssets:{},packedAssets:{}};!function r(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=u[a];if(!n)return cc.AssetLibrary.init({libraryPath:"res/import",rawAssetsBase:"res/raw-",rawAssets:s.rawAssets,packedAssets:s.packedAssets}),e();a++;var o=n.name?t.getAbsoluteUrl(n.path):n.path;t.loadSettings(s,n.name,o,r.bind(t,a))}()}}]),e}(),n._RF.pop(),e("default",d)}}}));

System.register("chunks:///material.tool.js",["./_virtual/_rollupPluginBabelHelpers.js","cc"],(function(e,t){var a,i,o,r,n,s,l,d,h,c,p,u,m,f,g,v,C,_,y,M,w,b,A,S,k,B,O,P,D,E,F,I;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_class3:void 0,_temp:void 0}),{setters:[function(e){a=e.applyDecoratedDescriptor,i=e.inherits,o=e.classCallCheck,r=e.possibleConstructorReturn,n=e.getPrototypeOf,s=e.initializerDefineProperty,l=e.assertThisInitialized,d=e.createClass,h=e.createForOfIteratorHelper},function(e){c=e.cclegacy,p=e._decorator,u=e.Enum,m=e.Material,f=e.SkeletalAnimationComponent,g=e.AnimationComponent,v=e.SkinningModelComponent,C=e.ModelComponent,_=e.geometry,y=e.Component}],execute:function(){c._RF.push({},"3a923Ug5vROrawNNzcsR0nJ","material.tool",void 0),D=p.ccclass,E=p.property,F=p.executeInEditMode,I=u({OFF:0,ON:1}),e("materialTool",(M=D("materialTool"),w=E(m),b=E({type:I,tooltip:"i18n:model.shadow_casting_model"}),M(A=F((P=O=function(e){function t(){var e,a;o(this,t);for(var i=arguments.length,d=new Array(i),h=0;h<i;h++)d[h]=arguments[h];return a=r(this,(e=n(t)).call.apply(e,[this].concat(d))),s(a,"material",k,l(a)),a._material=null,s(a,"_shadowCastingMode",B,l(a)),a}return i(t,e),d(t,[{key:"onLoad",value:function(){var e,t=this.node.getComponent(f);t?(t.useBakedAnimation=!1,e=t):e=this.node.getComponent(g),e.playOnLoad=!0,this.refreshBaseMaterialDepthWrite(this.node)}},{key:"update",value:function(){cc._global.CC_EDITOR&&this.material&&this._material!=this.material&&(this._material=this.material,this.refreshMaterialAndAABB(this.node,this._material))}},{key:"updateAllMaterials",value:function(e,t,a){for(var i=e.materials.length,o=0;o<i;o++)e.setMaterial(t,o),a||e.getMaterialInstance(o).recompileShaders({USE_SKINNING:!1})}},{key:"refreshMaterialAndAABB",value:function(e,t,a){var i=this;return e.children.forEach((function(e){var o;if((o=e.getComponent(v))?i.updateAllMaterials(o,t,!0):(o=e.getComponent(C))&&i.updateAllMaterials(o,t,!1),a&&o&&o.mesh&&o.mesh.minPosition&&o.mesh.maxPosition){var r=_.aabb.create();_.aabb.fromPoints(r,o.mesh.minPosition,o.mesh.maxPosition),_.aabb.merge(a,a,r)}i.refreshMaterialAndAABB(e,t,a)})),a}},{key:"refreshShadow",value:function(e,t){var a=this;e.children.forEach((function(e){var i=e.getComponent(v)||e.getComponent(C);i&&(i.shadowCastingMode=t),a.refreshShadow(e,t)}))}},{key:"refreshBaseMaterialDepthWrite",value:function(e){var t=this;e.children.forEach((function(e){var a=e.getComponent(v)||e.getComponent(C);if(a){var i,o=h(a.materials);try{for(o.s();!(i=o.n()).done;){i.value.overridePipelineStates({depthStencilState:{depthWrite:!0}})}}catch(e){o.e(e)}finally{o.f()}}t.refreshBaseMaterialDepthWrite(e)}))}},{key:"shadowCastingMode",get:function(){return this._shadowCastingMode},set:function(e){this._shadowCastingMode!=e&&(this._shadowCastingMode=e,this.refreshShadow(this.node,e))}}]),t}(y),O.ShadowCastingMode=I,k=a((S=P).prototype,"material",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=a(S.prototype,"_shadowCastingMode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.OFF}}),a(S.prototype,"shadowCastingMode",[b],Object.getOwnPropertyDescriptor(S.prototype,"shadowCastingMode"),S.prototype),A=S))||A)||A)),c._RF.pop()}}}));

System.register("chunks:///play.layer.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./load.service.js"],(function(e,t){var n,r,a,l,i,o,s,c,u,f,p,d,y,h,v,g;return e({_dec:void 0,_class:void 0}),{setters:[function(e){n=e.inherits,r=e.createClass,a=e.classCallCheck,l=e.possibleConstructorReturn,i=e.getPrototypeOf,o=e.createForOfIteratorHelper},function(e){s=e.cclegacy,c=e._decorator,u=e.loader,f=e.Prefab,p=e.AnimationClip,d=e.Component},function(e){y=e.default}],execute:function(){s._RF.push({},"52d61QJGHBDeJqBztZCFmtJ","play.layer",void 0),g=c.ccclass,c.property,e("PlayLayer",(h=g("PlayLayer"),h(v=function(e){function t(){return a(this,t),l(this,i(t).apply(this,arguments))}return n(t,e),r(t,[{key:"parseQueryString",value:function(e){var t={};if(e.indexOf("?")>-1)for(var n=e.split("?").pop().split("&"),r=0;r<n.length;++r){var a=n[r].split("=");if(a.length>1)t[a[0]]=decodeURIComponent(a[1]);else if(1===a.length){var l=Object.keys(t);l.length>0&&(t[l[l.length-1]]+="&"+a[0])}}return t}},{key:"start",value:function(){var e=this,t=this.parseQueryString(location.href).model;t&&y.loadCustomAsset((function(){u.loadResDir(t,(function(t,n){if(n&&0!==n.length){var r,a=null,l=[],i=o(n);try{for(i.s();!(r=i.n()).done;){var s=r.value;s instanceof f?a=cc.instantiate(s):s instanceof p&&l.push(s)}}catch(e){i.e(e)}finally{i.f()}a&&e.node.addChild(a)}}))}))}}]),t}(d))||v)),s._RF.pop()}}}));

System.register("chunks:///_virtual/prerequisite-imports:main",["../load.service.js","../material.tool.js","../play.layer.js"],(function(e,t){return{setters:[function(e){},function(e){},function(e){}],execute:function(){}}}));

(function(r) {
  r('project:///assets/script/load.service.js', 'chunks:///load.service.js');
  r('project:///assets/script/material.tool.js', 'chunks:///material.tool.js');
  r('project:///assets/script/play.layer.js', 'chunks:///play.layer.js');
  r('virtual:///prerequisite-imports:main', 'chunks:///_virtual/prerequisite-imports:main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    var _m;
    return {
        setters: [function(m) { _m = m; }],
        execute: function () { _export(_m); }
    };
    });
});